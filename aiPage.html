<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Career Roadmap Generator</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Poppins', sans-serif;
  background: linear-gradient(rgba(143,125,125,0.7), rgba(151,155,170,0.7)), url(bg4.jpg);
  background-size: cover;
      color: #fff;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
    }

        .btn1 {
      background: linear-gradient(135deg, #6a11cb, #2575fc);
      position: absolute;
      top: 40px;
      left: 40px;
      padding: 10px 20px;
      border: none;
      cursor: pointer;
      border-radius: 10px;
      font-weight: 500;
      text-decoration: none;
      transition: all 0.3s ease;
      display: inline-block;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25);
    }
     .btn1:hover {
      opacity: 0.9;
      transform: translateY(-2px);
      box-shadow: 0 6px 15px rgba(0, 0, 0, 0.35);
    }
    .container {
      background: rgba(0,0,0,0.6);
      padding: 30px;
      border-radius: 20px;
      max-width: 1000px;
      width: 100%;
      display: flex;
      gap: 30px;
      flex-wrap: wrap;
    }
    h2 {
      width: 100%;
      text-align: center;
      color: #FFD700;
      margin-bottom: 20px;
    }
    .left, .right {
      flex: 1;
      min-width: 300px;
    }
    .question { margin-bottom: 20px; }
    label { font-weight: 600; display: block; margin-bottom: 8px; }
    input { width: 100%; padding: 10px; border-radius: 10px; border: none; outline: none; font-size: 16px; margin-bottom: 10px; }
    .btn {
      background: #FF7F50;
      color: #fff;
      padding: 10px 20px;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      font-weight: 500;
      margin-right: 10px;
    }
    .btn:hover { background: #FF4500; }
    .roadmap {
      background: rgba(255, 255, 255, 0.15);
      padding: 20px;
      border-radius: 12px;
      max-height: 400px;
      overflow-y: auto;
      white-space: pre-wrap;
    }
  </style>
</head>
<body>
  <a href="index.html"><button class="btn1">‚ùå</button></a>
  <div class="container">
    <h2>üéì Career Roadmap Generator</h2>
    <div class="left">
      <div class="question">
        <label>1. What are you currently doing?</label>
        <input id="current" placeholder="e.g., 12th Student, Graduate">
      </div>
      <div class="question">
        <label>2. What do you want to do next?</label>
        <input id="goal" placeholder="e.g., Higher studies, Job, Startup">
      </div>
      <div class="question">
        <label>3. Your preferred career direction?</label>
        <input id="direction" placeholder="e.g., Science, Commerce, Technology">
      </div>
      <div class="question">
        <label>4. Your main interests or skills?</label>
        <input id="interest" placeholder="e.g., AI, Design, Management">
      </div>
      <div class="question">
        <label>5. Any specific goal or dream job? (optional)</label>
        <input id="dream" placeholder="e.g., Software Engineer, IAS Officer">
      </div>
    </div>
    <div class="right">
      <div id="roadmap" class="roadmap">Your roadmap will appear here...</div>
      <div style="margin-top: 15px;">
        <button class="btn" onclick="generateRoadmap()">üöÄ Generate Roadmap</button>
        <button class="btn" onclick="downloadPDF()">üì• Download PDF</button>
      </div>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script>
    const API_KEY = "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";
    const MODEL = "gpt-oss-20b";
    let roadmapText = "";

    async function generateRoadmap() {
      const current = document.getElementById("current").value.trim();
      const goal = document.getElementById("goal").value.trim();
      const direction = document.getElementById("direction").value.trim();
      const interest = document.getElementById("interest").value.trim();
      const dream = document.getElementById("dream").value.trim();

      if (!current || !goal || !direction || !interest) {
        alert("Please fill all required fields!");
        return;
      }

      const roadmapEl = document.getElementById("roadmap");
      roadmapEl.textContent = "‚è≥ Generating roadmap...";

      const prompt = `The student is currently doing: ${current}.
Wants to do next: ${goal}.
Career direction: ${direction}.
Interests/skills: ${interest}.
Dream job or goal: ${dream || "Not specified"}.
Please generate a detailed step-by-step career roadmap suitable for this student.`;

      try {
        const response = await fetch("https://openrouter.ai/api/v1/completions", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            "Authorization": `Bearer ${API_KEY}`
          },
          body: JSON.stringify({
            model: MODEL,
            prompt: prompt,
            max_tokens: 800
          })
        });

        const data = await response.json();
        // OpenRouter may return completion text inside 'completion' or 'choices[0].text'
        roadmapText = data?.completion || data?.choices?.[0]?.text || "‚ö†Ô∏è AI did not generate a roadmap";
        roadmapEl.textContent = roadmapText;

      } catch (err) {
        roadmapEl.textContent = "‚ùå Error: " + err.message;
      }
    }

    function downloadPDF() {
      if (!roadmapText) {
        alert("Please generate the roadmap first!");
        return;
      }

      const { jsPDF } = window.jspdf;
      const doc = new jsPDF();
      const pageWidth = doc.internal.pageSize.width;
      const pageHeight = doc.internal.pageSize.height;

      doc.setFont("helvetica", "bold");
      doc.setFontSize(24);
      doc.setTextColor(0,0,0);
      doc.text("Career Roadmap", pageWidth/2, 20, {align:"center"});

      doc.setFont("times", "normal");
      doc.setFontSize(13);

      const lines = doc.splitTextToSize(roadmapText, pageWidth-20);
      let y = 40;
      lines.forEach(line => {
        if (y > pageHeight - 20) {
          doc.addPage();
          y = 20;
        }
        doc.text(line, 10, y);
        y += 7;
      });

      doc.save("career_roadmap.pdf");
    }
  </script>
</body>
</html>
